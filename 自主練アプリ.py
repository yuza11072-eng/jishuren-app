import streamlit as st
from datetime import date

st.title("è‡ªä¸»ç·´ãƒã‚§ãƒƒã‚¯")

# =====================
# ä¿å­˜ç”¨ãƒªã‚¹ãƒˆã‚’æº–å‚™
# =====================
if "records" not in st.session_state:
    st.session_state.records = []

# =====================
# ãƒã‚§ãƒƒã‚¯ç®¡ç†ç”¨
# =====================
checked_items = []

def add_check(label):
    if st.checkbox(label):
        checked_items.append(label)

# =====================
# ãƒ¡ãƒ‹ãƒ¥ãƒ¼
# =====================
add_check("â‘  ä¸€å›è»¢ã‚¸ãƒ£ãƒ³ãƒ—")

ball = st.checkbox("â–¼ â‘¡ ãƒœãƒ¼ãƒ«ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ã‚·ãƒ§ãƒ³")
if ball:
    st.markdown("##### ãƒœãƒ¼ãƒ«ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ã‚·ãƒ§ãƒ³")
    items = [
        "â‘  è»¸è¶³é€šã—","â‘¡ è»¸è¶³é€šã—ï¼ˆå¾Œã‚å‘ãï¼‰",
        "â‘¢ ã‚¢ã‚¦ãƒˆãƒ—ãƒƒã‚·ãƒ¥","â‘£ ã‚¢ã‚¦ãƒˆãƒ—ãƒƒã‚·ãƒ¥ï¼ˆå¾Œã‚å‘ãï¼‰",
        "â‘¤ ãƒ—ãƒ«ãƒ—ãƒƒã‚·ãƒ¥","â‘¥ ãƒ—ãƒ«ãƒ—ãƒƒã‚·ãƒ¥ï¼ˆå¾Œã‚å‘ãï¼‰",
        "â‘¦ è¶³è£ã‚·ã‚¶ãƒ¼ã‚¹","â‘§ è¶³è£ã‚·ã‚¶ãƒ¼ã‚¹ï¼ˆå¾Œã‚å‘ãï¼‰",
        "â‘¨ ã‚¤ãƒ³ã‚·ã‚¶ãƒ¼ã‚¹","â‘© ã‚¤ãƒ³ã‚·ã‚¶ãƒ¼ã‚¹ï¼ˆå¾Œã‚å‘ãï¼‰",
        "â‘ª ã‚¤ãƒ³ã‚¤ãƒ³ãƒ»ã‚¢ã‚¦ãƒˆ","â‘« ã‚¤ãƒ³ã‚¤ãƒ³ãƒ»ã‚¢ã‚¦ãƒˆï¼ˆå¾Œã‚å‘ãï¼‰",
        "â‘¬ ã‚¤ãƒ³ã‚¤ãƒ³ãƒ­ãƒ¼ãƒ«","â‘­ ã‚¤ãƒ³ã‚¤ãƒ³ãƒ­ãƒ¼ãƒ«ï¼ˆå¾Œã‚å‘ãï¼‰",
        "â‘® é€£ç¶šã‚¨ãƒ©ã‚·ã‚³","â‘¯ é€£ç¶šã‚¨ãƒ©ã‚·ã‚³ï¼ˆå¾Œã‚å‘ãï¼‰",
        "â‘° ã‚¢ã‚¦ãƒˆâ†’ã‚¯ãƒ©ã‚¤ãƒ•ã‚¿ãƒ¼ãƒ³","â‘± è¶³è£è»¢ãŒã—åˆã†ã‚¿ãƒ¼ãƒ³",
        "â‘² ãƒ‡ã‚£ãƒ¼ãƒ—ã‚¸ãƒ³ã‚¬","â‘³ ãƒ‡ã‚£ãƒ¼ãƒ—ã‚¸ãƒ³ã‚¬ï¼ˆå¾Œã‚å‘ãï¼‰",
        "ã‰‘ è¦—ãè¾¼ã¿ãƒ‰ãƒªãƒ–ãƒ«","ã‰’ ãƒ€ãƒ–ãƒ«ã‚¿ãƒƒãƒç©ºæŒ¯ã‚Š"
    ]
    for i in items:
        add_check(i)

stretch = st.checkbox("â–¼ â‘¦ ã‚¹ãƒˆãƒ¬ãƒƒãƒ")
if stretch:
    st.markdown("##### ã‚¹ãƒˆãƒ¬ãƒƒãƒ")
    stretch_items = [
        "â‘  ã‚‚ã‚‚ï¼ˆè£ãƒ»è¡¨ï¼‰",
        "â‘¡ ãµãã‚‰ã¯ã",
        "â‘¢ é–‹è„š",
        "â‘£ é–‹è„šï¼ˆå·¦å³ï¼‰",
        "â‘¤ é•·åº§å‰å±ˆ",
        "â‘¥ å‰å±ˆ"
    ]
    for s in stretch_items:
        add_check(s)

add_check("â‘§ ä½“å¹¹")
add_check("â‘¨ ãã®ä»–")

# =====================
# ä¿å­˜ã‚¨ãƒªã‚¢
# =====================
st.divider()
st.subheader("ğŸ’¾ è‡ªä¸»ç·´ã‚’ä¿å­˜")

memo = st.text_input("ãƒ¡ãƒ¢ï¼ˆä¾‹ï¼šç–²ã‚ŒãŸã‘ã©èª¿å­è‰¯ã‹ã£ãŸï¼‰")

if st.button("ä»Šæ—¥ã®è‡ªä¸»ç·´ã‚’ä¿å­˜"):
    if checked_items:
        record = {
            "æ—¥ä»˜": date.today().strftime("%Y-%m-%d"),
            "å†…å®¹": checked_items.copy(),
            "ãƒ¡ãƒ¢": memo
        }
        st.session_state.records.append(record)
        st.success("ä¿å­˜ã—ã¾ã—ãŸï¼ğŸ’ª")
    else:
        st.warning("ãƒã‚§ãƒƒã‚¯ãŒ1ã¤ã‚‚ã‚ã‚Šã¾ã›ã‚“")

# =====================
# è¨˜éŒ²ä¸€è¦§
# =====================
st.divider()
st.subheader("ğŸ“‹ è‡ªä¸»ç·´ã®è¨˜éŒ²")

if st.session_state.records:
    for i, r in enumerate(reversed(st.session_state.records), 1):
        st.markdown(f"### {i}. {r['æ—¥ä»˜']}")
        st.write("ãƒ»" + " / ".join(r["å†…å®¹"]))
        if r["ãƒ¡ãƒ¢"]:
            st.write(f"ğŸ“ {r['ãƒ¡ãƒ¢']}")
else:
    st.write("ã¾ã ä¿å­˜ã•ã‚ŒãŸè¨˜éŒ²ã¯ã‚ã‚Šã¾ã›ã‚“")
